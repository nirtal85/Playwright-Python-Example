{"uid":"c4b16ecf35d9d51a","name":"Test Accessibility with Default Counts","fullName":"tests.accesability_test.TestAccessibility#test_accessibility_default_counts","historyId":"8bd050b234c4da01a98b9ff6fff49630","time":{"start":1730855984741,"stop":1730855984895,"duration":154},"status":"failed","statusMessage":"AssertionError: Found accessibility violations exceeding the maximum allowed: {'moderate': 3}","statusTrace":"self = <tests.accesability_test.TestAccessibility object at 0x7f0e2c7070b0>\naxe_playwright = <utilities.axe_helper.AxeHelper object at 0x7f0e2bd215b0>\npage = <Page url='https://www.saucedemo.com/'>\n\n    @allure.title(\"Test Accessibility with Default Counts\")\n    def test_accessibility_default_counts(self, axe_playwright, page):\n>       axe_playwright.check_accessibility(page)\n\ntests/accesability_test.py:8: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <utilities.axe_helper.AxeHelper object at 0x7f0e2bd215b0>\npage = <Page url='https://www.saucedemo.com/'>\nmaximum_allowed_violations_by_impact = {'critical': 0, 'minor': 0, 'moderate': 0, 'serious': 0}\n\n    def check_accessibility(\n        self, page: Page, maximum_allowed_violations_by_impact: Dict[str, int] = None\n    ) -> None:\n        \"\"\"Checks accessibility of the page using playwright axe.\n    \n        :param page: Playwright Page object\n        :param maximum_allowed_violations_by_impact: A dictionary\n            specifying the maximum allowed violations for each impact\n            level (e.g., {'minor': 2, 'moderate': 1, 'serious': 0,\n            'critical': 0}). If None, no violations will be allowed for\n            any impact level.\n        \"\"\"\n        if maximum_allowed_violations_by_impact is None:\n            maximum_allowed_violations_by_impact = {\n                \"minor\": 0,\n                \"moderate\": 0,\n                \"serious\": 0,\n                \"critical\": 0,\n            }\n        results = self.axe.run(page)\n        violations_count = dict(\n            Counter(\n                [violation[\"impact\"] for violation in results.response[\"violations\"]]\n            )\n        )\n        if violations_exceeded := {\n            impact_level: violation_count\n            for impact_level, violation_count in violations_count.items()\n            if violation_count\n            > maximum_allowed_violations_by_impact.get(impact_level, 0)\n        }:\n            allure.attach(\n                body=json.dumps(results.response[\"violations\"], indent=4),\n                name=\"Accessibility Violation Results\",\n                attachment_type=allure.attachment_type.JSON,\n            )\n>           assert not violations_exceeded, (\n                f\"Found accessibility violations exceeding the maximum allowed: \"\n                f\"{violations_exceeded}\"\n            )\nE           AssertionError: Found accessibility violations exceeding the maximum allowed: {'moderate': 3}\n\nutilities/axe_helper.py:51: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1730855983138,"stop":1730855983138,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1730855983138,"stop":1730855983138,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1730855983139,"stop":1730855983139,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1730855983139,"stop":1730855983356,"duration":217},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1730855983139,"stop":1730855983139,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"axe_playwright","time":{"start":1730855983139,"stop":1730855983139,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1730855983139,"stop":1730855983139,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1730855983356,"stop":1730855983362,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1730855983363,"stop":1730855983363,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1730855983363,"stop":1730855984017,"duration":654},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1730855983363,"stop":1730855983363,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1730855984017,"stop":1730855984018,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1730855984018,"stop":1730855984019,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1730855984018,"stop":1730855984018,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1730855984018,"stop":1730855984018,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1730855984018,"stop":1730855984018,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1730855984019,"stop":1730855984054,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1730855984019,"stop":1730855984019,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1730855984054,"stop":1730855984219,"duration":165},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_playwright_results","time":{"start":1730855984219,"stop":1730855984219,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"goto","time":{"start":1730855984219,"stop":1730855984741,"duration":522},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Found accessibility violations exceeding the maximum allowed: {'moderate': 3}","statusTrace":"self = <tests.accesability_test.TestAccessibility object at 0x7f0e2c7070b0>\naxe_playwright = <utilities.axe_helper.AxeHelper object at 0x7f0e2bd215b0>\npage = <Page url='https://www.saucedemo.com/'>\n\n    @allure.title(\"Test Accessibility with Default Counts\")\n    def test_accessibility_default_counts(self, axe_playwright, page):\n>       axe_playwright.check_accessibility(page)\n\ntests/accesability_test.py:8: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <utilities.axe_helper.AxeHelper object at 0x7f0e2bd215b0>\npage = <Page url='https://www.saucedemo.com/'>\nmaximum_allowed_violations_by_impact = {'critical': 0, 'minor': 0, 'moderate': 0, 'serious': 0}\n\n    def check_accessibility(\n        self, page: Page, maximum_allowed_violations_by_impact: Dict[str, int] = None\n    ) -> None:\n        \"\"\"Checks accessibility of the page using playwright axe.\n    \n        :param page: Playwright Page object\n        :param maximum_allowed_violations_by_impact: A dictionary\n            specifying the maximum allowed violations for each impact\n            level (e.g., {'minor': 2, 'moderate': 1, 'serious': 0,\n            'critical': 0}). If None, no violations will be allowed for\n            any impact level.\n        \"\"\"\n        if maximum_allowed_violations_by_impact is None:\n            maximum_allowed_violations_by_impact = {\n                \"minor\": 0,\n                \"moderate\": 0,\n                \"serious\": 0,\n                \"critical\": 0,\n            }\n        results = self.axe.run(page)\n        violations_count = dict(\n            Counter(\n                [violation[\"impact\"] for violation in results.response[\"violations\"]]\n            )\n        )\n        if violations_exceeded := {\n            impact_level: violation_count\n            for impact_level, violation_count in violations_count.items()\n            if violation_count\n            > maximum_allowed_violations_by_impact.get(impact_level, 0)\n        }:\n            allure.attach(\n                body=json.dumps(results.response[\"violations\"], indent=4),\n                name=\"Accessibility Violation Results\",\n                attachment_type=allure.attachment_type.JSON,\n            )\n>           assert not violations_exceeded, (\n                f\"Found accessibility violations exceeding the maximum allowed: \"\n                f\"{violations_exceeded}\"\n            )\nE           AssertionError: Found accessibility violations exceeding the maximum allowed: {'moderate': 3}\n\nutilities/axe_helper.py:51: AssertionError","steps":[],"attachments":[{"uid":"2722a8046106dae2","name":"Accessibility Violation Results","source":"2722a8046106dae2.json","type":"application/json","size":6297}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"attach_playwright_results::0","time":{"start":1730855984900,"stop":1730855985096,"duration":196},"status":"passed","steps":[],"attachments":[{"uid":"dc472963a37aef73","name":"URL","source":"dc472963a37aef73.uri","type":"text/uri-list","size":26},{"uid":"ecfcfea087d48fff","name":"Screen shot on failure","source":"ecfcfea087d48fff.png","type":"image/png","size":29748},{"uid":"c2639dbe57410041","name":"public ip address","source":"c2639dbe57410041.txt","type":"text/plain","size":12}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"new_context::0","time":{"start":1730855985097,"stop":1730855985194,"duration":97},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1730855985194,"stop":1730855985205,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1730855986476,"stop":1730855986476,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1730855986477,"stop":1730855986557,"duration":80},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1730855986559,"stop":1730855986568,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"axe_playwright::0","time":{"start":1730855986569,"stop":1730855986569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"accesability_test"},{"name":"subSuite","value":"TestAccessibility"},{"name":"host","value":"fv-az775-215"},{"name":"thread","value":"5350-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.accesability_test"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"c4b16ecf35d9d51a.json","parameterValues":["'chromium'"]}